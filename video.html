<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Joseph Ohegyi: Reels</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; }
      .wrap { max-width: 900px; margin: 0 auto; }
      #playerWrap { aspect-ratio: 16 / 9; width: 100%; background: #000; border-radius: 12px; overflow: hidden; }
      button { margin-top: 12px; padding: 10px 14px; border-radius: 10px; border: 1px solid #ccc; background: #fff; cursor: pointer; }
      button:disabled { opacity: 0.6; cursor: not-allowed; }
      #status { margin-top: 10px; font-size: 14px; color: #444; word-break: break-word; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div id="playerWrap">
        <div id="vimeo-player"></div>
      </div>

      <button id="nextBtn" type="button">Click here for another reel</button>
      <div id="status"></div>
    </div>

    <!-- Vimeo Player API -->
    <script src="https://player.vimeo.com/api/player.js"></script>

    <script>
      /**
       * For unlisted videos, store FULL URLs that include the privacy hash.
       * Use either share-link format:
       *   https://vimeo.com/905347576/6a696c7bac
       * OR player format:
       *   https://player.vimeo.com/video/905347576?h=6a696c7bac
       */
      const VIDEO_URLS = [
          "https://vimeo.com/928063177/936b848066",
  "https://vimeo.com/786142641/600a347087",
  "https://vimeo.com/624722506/3dce4ccdc8",
  "https://vimeo.com/661260920/cd87bc9c02",
  "https://vimeo.com/905347576/6a696c7bac",
  "https://vimeo.com/1099418306/df64763b71",
  "https://vimeo.com/932922706/b3a771633a",
  "https://vimeo.com/1026225790/5921e8dd34",
  "https://vimeo.com/708762944/477d4732a7",
  "https://vimeo.com/1011159000/2c53d4a680",
  "https://vimeo.com/340336175/96d4aebf2e",
  "https://vimeo.com/637544808",
  "https://vimeo.com/760363005/e4cbf598a9",
  "https://vimeo.com/684374054/925e7ffffe"
      ];

      const nextBtn = document.getElementById("nextBtn");
      const statusEl = document.getElementById("status");

      let currentIndex = 0;

      function setStatus(msg) {
        statusEl.textContent = msg || "";
      }

      function pickNextIndex() {
        if (VIDEO_URLS.length <= 1) return 0;
        let next = currentIndex;
        while (next === currentIndex) {
          next = Math.floor(Math.random() * VIDEO_URLS.length);
        }
        return next;
      }

      // Initialize the player with the first URL
      const player = new Vimeo.Player("vimeo-player", {
        url: VIDEO_URLS[currentIndex],
        responsive: true
      });

      async function loadRandomVideo() {
        if (!VIDEO_URLS.length) {
          setStatus("No videos configured. Add URLs to VIDEO_URLS.");
          return;
        }

        nextBtn.disabled = true;
        setStatus("Loadingâ€¦");

        const nextIndex = pickNextIndex();
        const nextUrl = VIDEO_URLS[nextIndex];

        try {
          await player.loadVideo(nextUrl);
          currentIndex = nextIndex;

          // Optional: autoplay after load (remove this line to disable autoplay)
          await player.play();

          setStatus(`Loaded: ${nextUrl}`);
        } catch (err) {
          console.error(err);
          setStatus(`Failed to load: ${nextUrl}\n${(err && err.name) ? err.name : "Error"}`);
        } finally {
          nextBtn.disabled = false;
        }
      }

      nextBtn.addEventListener("click", loadRandomVideo);

      // Optional: show initial loaded URL
      setStatus(`Loaded: ${VIDEO_URLS[currentIndex] || "(none)"}`);
    </script>
  </body>
</html>

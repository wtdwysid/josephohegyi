<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Joseph Ohegyi: Reels</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
  	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  	<link href="https://fonts.googleapis.com/css2?family=Michroma&display=swap" rel="stylesheet">
	  <link href="https://fonts.googleapis.com/css2?family=Mr+Dafoe&display=swap" rel="stylesheet">

    <style>
      body {
        font-family: "Michroma", sans-serif;
	    font-size: 12px;
        background: rgb(209, 246, 226);
		margin: 30px;
      }
	  h1, h2 {
			font-family: 'Brush Script MT', "Mr Dafoe";
			font-size: 46px;
			line-height: 10px;
		    color: rgb(5, 24, 108);
	  }
	  a:link {
			color: rgb(0, 179, 179);
			text-decoration: none;
		}
		a:visited {
			color: rgb(0, 179, 179);
			text-decoration: none;
		}
		a:hover {
  			color: rgb(206, 2, 128);
			text-decoration: none;
		}
      .wrap { max-width: 900px; margin: 0 auto; }
      #playerWrap {
        aspect-ratio: 16 / 9;
        width: 100%;
        background: #000;
        border-radius: 12px;
        overflow: hidden;
      }
      .btnRow {
        display: flex;
        justify-content: center;
        margin-top: 12px;
      }
      button {
  font-family: "Michroma", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 400;
  padding: 12px 16px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.15);
  background: rgb(5, 24, 108);
  color: #fff;
  cursor: pointer;
  font-size: 16px;
}
      button:disabled { opacity: 0.6; cursor: not-allowed; }
    </style>
  </head>
  <body>
	  <h1>joseph ohegyi</h1>
	  <br>Fort Worth, TX, USA
	<br><a href="https://josephohegyi.com/video">Reels</a>
    <div class="wrap">
      <div id="playerWrap">
        <div id="vimeo-player"></div>
      </div>

      <div class="btnRow">
        <button id="nextBtn" type="button">Click here to watch another reel</button>
      </div>
    </div>

    <script src="https://player.vimeo.com/api/player.js"></script>

    <script>
      const VIDEO_URLS_RAW = [
        "https://player.vimeo.com/video/928063177?h=936b848066",
  "https://player.vimeo.com/video/786142641?h=600a347087",
  "https://player.vimeo.com/video/624722506?h=3dce4ccdc8",
  "https://player.vimeo.com/video/661260920?h=cd87bc9c02",
  "https://player.vimeo.com/video/905347576?h=6a696c7bac",
  "https://player.vimeo.com/video/1099418306?h=df64763b71",
  "https://player.vimeo.com/video/932922706?h=b3a771633a",
  "https://player.vimeo.com/video/1026225790?h=5921e8dd34",
  "https://player.vimeo.com/video/708762944?h=477d4732a7",
  "https://player.vimeo.com/video/1011159000?h=2c53d4a680",
  "https://player.vimeo.com/video/340336175?h=96d4aebf2e",
  "https://player.vimeo.com/video/637544808",
  "https://player.vimeo.com/video/760363005?h=e4cbf598a9",
  "https://player.vimeo.com/video/684374054?h=925e7ffffe"
      ];

      function normalizeVimeoUrl(input) {
        try {
          const u = new URL(input);

          if (u.hostname === "player.vimeo.com") {
            const m1 = u.pathname.match(/^\/video\/(\d+)$/);
            if (m1) return input;

            const m2 = u.pathname.match(/^\/(\d+)$/);
            if (m2) {
              const id = m2[1];
              const qs = u.search || "";
              return `https://player.vimeo.com/video/${id}${qs}`;
            }
            return input;
          }

          const m = u.pathname.match(/^\/(\d+)\/([a-zA-Z0-9]+)$/);
          if (u.hostname === "vimeo.com" && m) {
            const [, id, hash] = m;
            return `https://player.vimeo.com/video/${id}?h=${hash}`;
          }

          return input;
        } catch {
          return input;
        }
      }

      const VIDEO_URLS = VIDEO_URLS_RAW.map(normalizeVimeoUrl);

      const nextBtn = document.getElementById("nextBtn");
      let currentIndex = 0;

      function pickNextIndex() {
        if (VIDEO_URLS.length <= 1) return 0;
        let next = currentIndex;
        while (next === currentIndex) {
          next = Math.floor(Math.random() * VIDEO_URLS.length);
        }
        return next;
      }

      const player = new Vimeo.Player("vimeo-player", {
        url: VIDEO_URLS[currentIndex],
        responsive: true
      });

      async function loadRandomVideo() {
        if (!VIDEO_URLS.length) return;

        nextBtn.disabled = true;

        const nextIndex = pickNextIndex();
        const nextUrl = VIDEO_URLS[nextIndex];

        try {
          await player.loadVideo({ url: nextUrl });
          currentIndex = nextIndex;
        } catch (err) {
          console.error(err);
        } finally {
          nextBtn.disabled = false;
        }
      }

      nextBtn.addEventListener("click", loadRandomVideo);
    </script>
  </body>
</html>
